<html>
<head>
<title>HealthApp</title>
<script src="/static/jquery.min.js" type="text/javascript"></script>
<script src="/static/handlebars.min.js" type="text/javascript"></script>
<script src="/static/navigo.min.js" type="text/javascript"></script>
<script src="/static/healthapp.js" type="text/javascript"></script>
<link href="/static/lumen.min.css" type="text/css" rel="stylesheet">
<style>
#wrap {
  width: 500px;
  margin: auto;
}
#flashes {
  margin-top: 15px;
}
.status-good {
  color: green;
}
.status-bad {
  color: gray;
  font-style: italic;
}
</style>
<script>
  $(init_healthapp);
</script>
</head>
<body>

<div id="wrap">
  <div id="flashes"></div>
  <h1></h1>
  <ul class="nav nav-tabs">
    <li><a data-navigo href="/" data-toggle="tab" aria-expanded="true">Server List</a></li>
  </ul>
  <div id="content"></div>
</div>

<script id="server-list-template" type="text/x-handlebars-template">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Name</th>
        <th>Last Update</th>
        <th>Alive?</th>
      </tr>
    </thead>
    <tbody>
      {{#each servers}}
      <tr>
        <td><a data-navigo href="/server/{{name}}">{{name}}</a></td>
        <td class="status-{{#if good}}good{{else}}bad{{/if}}">{{time}}</td>
        <td>
           {{#if good}}<span class="label label-success">YES</span>{{else}}<span class="label label-danger">NO</span>{{/if}}
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>
</script>


<script id="flash-template" type="text/x-handlebars-template">
  <div class="alert alert-dismissible alert-{{type}}">
    {{message}}
  </div>
</script>

</body>
</html>
